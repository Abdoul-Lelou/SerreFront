<!-- Conteneur principal dashboard -->
<div class="d-flex flex-column p-2 bd-highlight" id="conteneurDash"> 
 
  <div class="d-flex flex-column" id="BlocHaute">
      <h6 class="thhe">Données de la serre à l’instant</h6>
      <div class="d-flex flex-row" id="sectionsParam">
          <!-- section Temperature -->

            <div class="d-flex flex-column"  id="sectTemp">
                <p class="thhe">Température Serre</p>
                <div class="d-flex flex-row" id="contCircularTempetIconTemp">
                  <!-- Je mets ici ce qui déclenche le popup info serre -->
                  <img [src]="image3Histo" alt="" class="iconeTemp" (click)="openPopupInfo()">
                  <!-- <p class="cirTemp">circularProgressBar</p> -->
                  <circle-progress
                      [percent]="ObjetJSON.val1"
                      [radius]="40"
                      units="°C"
                      [outerStrokeWidth]="5"
                      [innerStrokeWidth]="4"
                      [outerStrokeColor]="'#000000'"
                      [innerStrokeColor]="'#F44336'"
                      [animation]="false"
                      [animationDuration]="300" class="cirTemp">
                  </circle-progress>
                </div>
            </div>
          <!-- section Humidité -->
            <div class="d-flex flex-column"  id="sectHum">
                <p class="thhe">Humidité enceinte</p>
                <div class="d-flex flex-row" id="contCircularTempetIconTemp">
                  <img [src]="image4Histo" alt="" class="iconHumEns">
                  <!-- <p class="cirTemp">circularProgressBar</p> -->
                  <circle-progress
                      [percent]="ObjetJSON.val2"
                      [radius]="40"
                      units="%"
                      [outerStrokeWidth]="5"
                      [innerStrokeWidth]="4"
                      [outerStrokeColor]="'#000000'"
                      [innerStrokeColor]="'#007CEE'"
                      [animation]="false"
                      [animationDuration]="300" class="cirTemp">
                  </circle-progress>
                </div>
            </div>
          <!-- section Humidité sol -->
            <div class="d-flex flex-column"  id="sectHumSol">
                <p class="thhe">Humidité sol </p>
                <div class="d-flex flex-row" id="contCircularTempetIconTemp">
                  <img [src]="image2Histo" alt="" class="iconHumEns">
                  <!-- <p class="cirTemp">circularProgressBar</p> -->
                  <circle-progress
                      [percent]= "ObjetJSON.val3"
                      [radius]="40"
                      [outerStrokeWidth]="5"
                      [innerStrokeWidth]="4"
                      [outerStrokeColor]="'#000000'"
                      [innerStrokeColor]="'#AADA48'"
                      [animation]="false"
                      units="%"
                      [animationDuration]="300" class="cirTemp">
                      [responsive]="true"
                  </circle-progress>
                </div>
            </div>
          <!-- section Luminosité -->
            <div class="d-flex flex-column"  id="sectLum">
                <p class="thhe">Luminosité serre</p>
                <div class="d-flex flex-row" id="contCircularTempetIconTemp">
                  <img [src]="image1Histo" alt="" class="iconHumEns">
                  <!-- <p class="valLuminosité">{{ObjetJSON.val4}}</p> -->
                  <circle-progress
                      [percent]= "ObjetJSON.val4"
                      [radius]="40"
                    
                      
                      [outerStrokeWidth]="5"
                      [showUnits]="true" 
                      [innerStrokeWidth]="4"
                      [outerStrokeColor]="'#000000'"
                      [innerStrokeColor]="'#AADA48'"
                      [animation]="false"
                      units="Lux"
                      [animationDuration]="300" class="cirTemp">
                  </circle-progress>
                </div>
            </div>
      </div>


  </div>  
  <div class="blocb" style="background-color: #FFFFFF;height: 250px;">
      <!-- Fin du bloc haut/ debut bloc bas-->
  <div class="d-flex flex-row" id="Blocbasse">
    <!-- Colone gauche (historique) -->
      <div class="d-flex flex-column" id="clonGauche">
          <p class="thhe">Historique données</p>
          <div class="d-flex flex-column" id="ll">
            <div class="sec1" id="noir1">
                <img [src]="image1Histo" alt="" class="iconHumEns">
                <img [src]="image2Histo" alt="" class="iconHumEns">
                <div class="sec1-layer_top sec1-layer_scale">
                  <div class="sec1-text">Historique Hum_Sol(%)<br>Ensol(%)</div>
                </div>
            </div>
            <div class="sec2" id="noir2">
                <img [src]="image3Histo" alt="" class="iconeTemp">
                <img [src]="image4Histo" alt="" class="iconHumEns">
                <div class="sec2-layer_top sec2-layer_scale">
                  <div class="sec2-text">Historique Temp(°c) <br>Hum(%)</div>
                </div>
            </div>
          </div>
      </div>
      <!-- Colone centre (lampe, alarme,arrosage) -->
      <div class="d-flex flex-column" id="clonCentre">
         <p class="thhe">Fenetre de visualisation</p>
         <div class="d-flex flex-row" id="contclon">
            <div class="d-lex flex-column" id="premColon">
              <p class="laa">Lampe</p>
              <span  *ngIf="!lamp">
                <img [src]="lampSerre" alt="" id="lampe">
              </span>
              <span  *ngIf="lamp" >
                <img [src]="lampSerAlum" alt="" id="lampe2">
              </span>     
              <div class="form-check1 form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" (click)="switchLamp()">
                <label class="form-check-label" for="flexSwitchCheckDefault"></label>
              </div>
            </div>
            <!-- Alerte sonor -->
            <div class="d-lex flex-column" id="deuxColon">
              <span *ngIf="!cris">
                <p class="laa">Alerte</p>
                <img [src]="Alarm" alt="" id="buzzer">
              </span>
              <span *ngIf="cris">
                <p class="laa">intruision</p>
                <img [src]="AlarmGif" alt="" id="buzzer">
              </span>
            </div>
            <!-- ARROSAGE -->
            <div class="d-lex flex-column" id="TroixColon">
              <p class="laa">Arrosage</p>
              <span *ngIf="!aroz">
                <img [src]="Arrosoir" alt="" id="arros">
              </span>
              <span *ngIf="aroz">
                <img [src]="ArrosoirGif" alt="" id="arros">
              </span>
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" (click)="switchArros()">
                <label class="form-check-label" for="flexSwitchCheckDefault"></label>
              </div>
            </div>
         </div>
      </div>
      <!-- Colone Droite(portail et toit) -->
      <div class="d-flex flex-column" id="clonDroite">
        <p class="thhe">Gestion portail et toiture</p>
        <div class="d-flex flex-row" id="contclon">
           <div class="d-lex flex-column" id="premColonD">
            <span *ngIf="!prt">
              <p class="laa">Porte fermée</p>
               <img [src]="portFerm" alt="" id="lampe">
            </span>
            <span *ngIf="prt">
              <p class="laa">Porte ouverte</p>
               <img [src]="portOuv" alt="" id="lampe"> 
            </span>
             <div class="form-check2 form-switch">
               <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" (click)="openPopup()" >
               <label class="form-check-label" for="flexSwitchCheckDefault"></label>
             </div>
           </div>
           <div class="d-lex flex-column" id="deuxColonD">
             <span *ngIf="!toi">
               <p class="laa">Toiture fermée</p>
               <img [src]="ToiFerm" alt="" id="buzzer">
            </span>
            <span *ngIf="toi" style="display: flex;flex-direction: column;">
              <p class="laa">Ouverture</p>
              <img [src]="ToiFerm" alt="" id="buzzer" style="margin-left: 54px;margin-top: -12px;">
              <img [src]="verin" alt="" id="verin">
           </span>
           </div>
           
        </div>
      </div>
  </div>
  </div>

</div>

<!-- LE POPUP POUR CODE DE DEVEROUILLAGE PORTE -->
               
<div class="modal" style="margin-top: 95px; width: 80%;height: 500px;margin-left: 240px; background-color: black;opacity: 0.9;" tabindex="-1"role="dialog"[ngStyle]="{'display':displayStyle}">
<div class="modal-dialog" role="document" style="background-color: black; height: 90%;width: 100%;padding: 30px;opacity: 1;">
  <div class="modal-content" >
    <div class="modal-header">
      <button type="button" class="close" aria-label="Close" (click)="closePopup()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body" style="background-color: white; opacity: 1;">
      <div class="register-form">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label>Veuillez entrer votre coder</label>
            <input
              type="text"
              formControlName="code"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['code'].errors }"
            />
            <div *ngIf="submitted && f['code'].errors" class="invalid-feedback">
              <div *ngIf="f['code'].errors['required']">Mettez un code svp!</div>
            </div>
          </div>  
          <div class="form-group">
            <button style="margin-right: 60px;" type="submit" class="btn btn-primary">Ouvrir </button>
            <button
              type="button"
              (click)="onReset()"
              class="btn btn-warning float-right" style="background-color: red; color: #FFFFFF;"
            >
              Reset
            </button>
          </div>
        </form>
      </div>

    </div>
    <div class="modal-footer">
    </div>
  </div>
</div>
</div> 
<!-- LE POPUP POUR CODE DE DEVEROUILLAGE PORTE -->

<!-- 

  <form id="form" (submit)="onSubmit()" [formGroup]="registerForm">
 -->























